<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ClassMapAR - Localizaci贸n de Salones y Horarios</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">

  <style>
    /* Colores de la universidad */
    :root {
      --primary-color: #002F6C; /* Azul oscuro */
      --secondary-color: #0072CE; /* Azul claro */
      --background-color: #f0f8ff; /* Fondo claro */
    }

    body {
      font-family: Arial, sans-serif;
      background-color: var(--background-color);
      color: var(--primary-color);
    }

    /* Estilos personalizados */
    .navbar {
      background-color: var(--primary-color);
    }
    .navbar-brand {
      color: white;
    }
    .qr-section, .details-section, .map-section {
      padding: 2rem;
      text-align: center;
    }
    .qr-placeholder {
      border: 2px dashed var(--secondary-color);
      padding: 50px;
      border-radius: 10px;
      color: var(--secondary-color);
    }
    .btn-primary {
      background-color: var(--primary-color);
      border: none;
    }
    .btn-primary:hover {
      background-color: var(--secondary-color);
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="#">ClassMapAR</a>
    </div>
  </nav>

  <!-- QR Scanner Section -->
  <section class="qr-section">
    <div class="container">
      <h2>Escanea el C贸digo QR</h2>
      <p>Escanea el QR para ver informaci贸n del sal贸n y horarios disponibles.</p>
      <div class="qr-placeholder">
        <video id="preview" class="w-100"></video>
      </div>
    </div>
  </section>

  <!-- Details Section -->
  <section class="details-section d-none" id="detailsSection">
    <div class="container">
      <h2>Detalles del Sal贸n</h2>
      <p id="salonInfo">Nombre del Sal贸n: 102A</p>
      <p id="horarioInfo">Horario Disponible: Lunes a Viernes, 8:00 - 18:00</p>
      <button class="btn btn-primary" onclick="goToMap()">Ver Mapa</button>
    </div>
  </section>

  <!-- Map Section -->
  <section class="map-section" id="mapSection">
    <div class="container">
      <h2>Mapa del Campus</h2>
      <p>Explora los principales puntos de inter茅s del campus.</p>
      <div class="map-container">
        <img src="images/Vista_Aerea.png" alt="Mapa del Campus">
      
        <!-- Marcador ejemplo para el sal贸n principal -->
        <div class="map-marker" style="top: 50%; left: 60%;" title="Sal贸n Principal">
          <span class="marker-icon"></span>
        </div>
  
        <!-- Agrega m谩s marcadores como sea necesario -->
      </div>
    </div>
  </section>
  
  <script>
    let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
    
    scanner.addListener('scan', function (content) {
      alert('C贸digo QR detectado: ' + content);
      showDetails(content);
    });

    Instascan.Camera.getCameras().then(function (cameras) {
      if (cameras.length > 0) {
        scanner.start(cameras[0]);
      } else {
        console.error('No se encontraron c谩maras.');
        alert('No se encontr贸 una c谩mara para escanear el c贸digo QR.');
      }
    }).catch(function (e) {
      console.error(e);
    });

    function showDetails(content) {
      document.getElementById("detailsSection").classList.remove("d-none");
      document.getElementById("salonInfo").innerText = "Sal贸n: " + content;
      document.getElementById("qr-section").classList.add("d-none");
    }

    function goToMap() {
      document.getElementById("mapSection").classList.remove("d-none");
      document.getElementById("detailsSection").classList.add("d-none");
    }
  </script>
</body>
</html>
